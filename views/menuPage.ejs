<%- include("./partials/header.ejs") %>

<div class="containerCard">
  <% if (typeof listOfLists !== 'undefined' && listOfLists.length > 0) { %><!-- do not modify this -->
  <% listOfLists.forEach(function(doc){ %>
  <div class="cards_wrap">
    <div class="headerC"><%=doc.listTitle %></div>
    <div class="Card_Item">
      <div class="innerCard">
        <div class="container">
          <div class="listBlock scrollable-table">
            <div class="table-full-width table-responsive">
              <table class="table">
                <tbody>
                  <% if (typeof doc.listOfTasks!=='undefined' &&
                  doc.listOfTasks.length > 0) { %>
                  <!-- do not modify -->
                  <% doc.listOfTasks.forEach(function(list){ %>
                  <!-- do not modify this -->
                  <tr>
                    <td>
                      <div class="form-check">
                        <label class="form-check-label">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            name=""
                            value=""
                          />
                          <span class="form-check-sign">
                            <span class="check"></span>
                          </span>
                        </label>
                      </div>
                    </td>
                    <td>
                      <p class="title"><%= list.taskTitle %></p>
                      <p class="text-muted"><%= list.taskDescription %></p>
                    </td>
                    <td class="td-actions text-right">
                      <div class="container mt-5">
                        <div class="dropdown">
                          <button
                            class="btn btn-link"
                            name="editListElement"
                            type="button"
                            id="dropdownMenuButton<%= list._id %>"
                            data-original-title="Delete Task"
                            data-toggle="dropdown"
                            aria-haspopup="true"
                            aria-expanded="false"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="16"
                              height="16"
                              fill="currentColor"
                              class="bi bi-pencil"
                              viewBox="0 0 16 16"
                            >
                              <path
                                d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"
                              />
                            </svg>
                          </button>
                          <div
                            class="dropdown-menu"
                            aria-labelledby="dropdownMenuButton<%= list._id %>"
                          >
                            <form
                              action="/editTaskOfSavedList"
                              method="post"
                              name="dropDownOptions"
                            >
                              <button
                                type="button"
                                class="btn dropdown-item"
                                data-bs-toggle="modal"
                                data-bs-target="#exampleModal<%= list._id %>"
                              >
                                Edit
                              </button>

                              <button
                                class="btn dropdown-item"
                                type="submit"
                                name="editAction"
                                value="deleteButton"
                              >
                                Delete Task
                              </button>
                              <input
                                type="hidden"
                                name="listID"
                                value="<%= list._id %>"
                              />
                              <input
                                type="hidden"
                                name="docID"
                                value="<%= doc._id %>"
                              />
                            </form>
                          </div>
                        </div>
                      </div>
                    </td>
                  </tr>
                  <div>
                    <%- include("./partials/listModal.ejs", {uniID: list._id,
                    fileD: doc, listM: list})%>
                  </div>
                  <% } ); } %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="cardFooter d-flex">
      <form
        class="d-flex ms-auto"
        action="/deleteList"
        method="post"
        name="deleleListButton"
      >
        <button
          class="btn btn-outline-primary ms-auto"
          name="ListItemId"
          type="submit"
          value="<%=doc._id%>"
        >
          Delete
        </button>
      </form>
    </div>
  </div>

  <% } ); } %>
</div>

<%- include("./partials/footer.ejs") %>
